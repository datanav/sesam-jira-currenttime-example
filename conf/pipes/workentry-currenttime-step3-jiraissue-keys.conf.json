{
  "_id": "workentry-currenttime-step3-jiraissue-keys",
  "source": {
    "type": "dataset",
    "dataset": "workentry-currenttime-step2-note-filter"
  },
  "transform": {
    "type": "dtl",
    "rules": {
      "default": [
        ["copy", "*"],
        ["add", "temp_cleaned_note",
          ["replace", ",", " ",
            ["replace", ";", " ",
              ["replace", "#", " ",
                ["replace", ":", " ",
                  ["replace", "-{", " ",
                    ["replace", "{", " ",
                    ["replace", "}", " ",
                      ["replace", "-[", " ",
                        ["replace", "[", " ",
                          ["replace", "]", " ",
                            ["replace", "-(", " ",
                              ["replace", "(", " ",
                                ["replace", ")", " ", "_S.note"]]]]]]]]]]]]]],
        ["add", "temp_split_note", ["split", " ", "_T.temp_cleaned_note"]],
        ["add", "temp_split_note2", ["map", ["strip", "_."], "_T.temp_split_note"]],
        ["add", "possible_jira_issue_keys",
          ["filter",
            ["and",
              ["eq", 2, ["count", ["split", "-", "_."]]],
              ["gt", ["integer", ["nth", 1, ["split", "-", "_."]]], 0]
            ],
            "_T.temp_split_note2"]]
      ]
    }
  },
  "type": "pipe"
}
